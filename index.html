<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <meta name="description" content="Modern Car Racing Game built with Vite, Tailwind CSS 4, and ES6" />
  <meta name="keywords" content="game, car, race, car race, html5, vite, tailwind, es6" />
  <meta name="author" content="@dharma_situmorang" />
  
  <title>Car Race HTML5 - Modern Racing Game</title>
  
  <!-- PWA Meta Tags -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#3b82f6" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Car Race">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="./icon.png">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="./img/car/kamu.png" as="image">
  <link rel="preload" href="./img/car/alex.png" as="image">
  <link rel="preload" href="./img/car/dono.png" as="image">
  <link rel="preload" href="./img/car/tejo.png" as="image">
  <link rel="preload" href="./img/car/jepri.png" as="image">
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800">
  <!-- Main Container -->
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    
    <!-- Header -->
    <header class="text-center mb-8">
      <h1 id="game-title" class="text-4xl md:text-6xl font-bold text-white animated-title mb-4">
        Car Racing
      </h1>
      <p class="text-white/80 text-lg">
        Modern racing game built with cutting-edge web technologies
      </p>
      <div id="mode-indicator" class="mt-4 inline-block bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 text-white font-semibold">
        ğŸ Classic Race
      </div>
    </header>

    <!-- Game Mode Toggle -->
    <div class="text-center mb-6">
      <button id="mode-toggle" class="btn btn-secondary">
        Switch to Challenger
      </button>
    </div>

    <!-- Betting Section (Classic Mode Only) -->
    <div id="bet-section" class="bet-section mb-6">
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4 max-w-md mx-auto">
        <h3 class="text-white font-semibold mb-3 text-center">ğŸ¯ Place Your Bet</h3>
        <select id="bet-select" class="bet-select w-full mb-2">
          <option value="">Choose your bet...</option>
        </select>
        <p id="bet-status" class="bet-status text-center text-sm text-white/80"></p>
      </div>
    </div>

    <!-- Score Board (Hidden by default) -->
    <div id="score-board" class="score-board hidden mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">
        ğŸ† Race Results
      </h2>
      <div id="score-list" class="space-y-2">
        <!-- Score items will be inserted here -->
      </div>
    </div>

    <!-- Race Track Container -->
    <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 mb-8 shadow-2xl">
      <div id="race-container" class="space-y-4">
        <!-- Race tracks will be rendered here -->
      </div>
    </div>

    <!-- Game Controls -->
    <div class="game-controls">
      <button id="start-race" class="btn btn-primary">
        ğŸ Start Race
      </button>
      <button id="gas-button" class="btn btn-warning" style="display: none;">
        âš¡ GAS!
      </button>
      <button id="reset-race" class="btn btn-secondary" style="display: none;">
        ğŸ”„ Race Again
      </button>
    </div>

    <!-- Footer -->
    <footer class="text-center mt-12 text-white/60">
      <p class="text-sm">
        Built with â¤ï¸ using Vite, Tailwind CSS 4, and Modern JavaScript
      </p>
      <p class="text-xs mt-2">
        Created by <strong>@dharma_situmorang</strong>
      </p>
    </footer>
  </div>

  <!-- Scripts -->
  <script type="module" src="/src/main.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js')
          .then(registration => {
            console.log('âœ… ServiceWorker registered successfully');
          })
          .catch(error => {
            console.log('âŒ ServiceWorker registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>